<div class="registerWrapper">
    <div class="fields">
        <div>
            <mat-form-field appearance="outline">
                <mat-label>Enter your email</mat-label>
                <input matInput [(ngModel)]="email" />
            </mat-form-field>
            <app-error-message [message]="'Invalid email'" [error_active]="error_email">
            </app-error-message>
        </div>
        <div>
            <mat-form-field appearance="outline">
                <mat-label>Enter your password</mat-label>
                <input matInput [type]="hide ? 'password' : 'text'" [(ngModel)]="password">
                <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                    <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
            </mat-form-field>
            <app-error-message [message]="'Password is required'" [error_active]="error_password">
            </app-error-message>
        </div>
        <div>
            <mat-form-field appearance="outline">
                <mat-label>Confirm your password</mat-label>
                <input matInput [type]="hide ? 'password' : 'text'" [(ngModel)]="cpassword">
                <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                    <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
            </mat-form-field>
            <app-error-message [message]="'Passwords don\'t match'" [error_active]="error_cpassword">
            </app-error-message>
        </div>

    </div>

    <button mat-raised-button color="primary" class="register-btn" (click)="createAccountProxy()">Create your
        account</button>
    <br *ngIf="callingAPI">
    <br *ngIf="callingAPI">
    <mat-progress-bar mode="indeterminate" *ngIf="callingAPI"></mat-progress-bar>
    <app-positive-message [message]="'Compte creer avec succes'" [positiveMessage_active]="created">
    </app-positive-message>
</div>